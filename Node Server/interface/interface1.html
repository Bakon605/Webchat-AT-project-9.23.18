<!doctype html>
<html>

	<head>
	
		<title>WebChat Interface 1</title>
		<meta charset="utf-8" >
		<!-- <link rel="stylesheet" href="style1.css"> -->
		<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
		<script src="/socket.io/socket.io.js"></script>
		
		<style>

body {

background-color:rgb(242, 242, 242);

}

.gridLayout {

	display: grid;
	grid-template-columns: 30% 40% 30%;
}
		
div#interbox {
	
	background-color: white;
	
	width: 400px;
	height: 400px;
	border: solid black 1px;
	overflow: visible;
	margin-left:auto;
	margin-right: auto;
	
	grid-column:2;
}

div#messages {
	
	height: 80%;
	overflow:auto;
	border:solid black 1px;
	padding:2px;
	
}

div#senderDiv {
	
	height:100px;
	float:left;
	margin-top:10px;
	margin-bottom: 10px;
	margin-left: auto;
	padding-left:10px;
	
}

form#senderForm{
	
	padding-left:10px;
	margin-bottom:10px;
	padding-bottom:10px;
	
}

input#sender{
	
		width: 300px;
		
	
}

header{
	
	width:100%;
	text-align:center;
	
}

h1#title {
	
	margin-left:auto;
	margin-right:auto;
	
}

#handle {
	
	margin-bottom:10px;


}

li#messageLi{
	
	list-style:none;
	width:80%;


}

div#onlineUsers{

grid-column: 1;
grid-row:1;

}

ul#Users{




}

#messageLi:nth-child(odd){

background-color:rgb(217, 217, 217);

}



		</style>

	
	</head>
	
	
	<body>
	<header>
	
		<H1 id="title"> WebChat Interface Test</H1>
	
	</header>
	<div class="gridLayout">
		<div id="interbox">
			<div id="messages">
				<ul id="messageBox">
				
				</ul>
			</div>
			
			<div id="senderDiv">
				
				<input type="text" id="handle" placeholder="Username">
				<br>
			
				<form id="sendForm" action="">
				
				
					<input type="text" id="sender" placeholder="Type Message Here">
						
					<button>Send</button>
				
				</form>
				<br>
	
			</div>
	
		<script>
		
		
		
		$(function () {
			var socket = io();
			$('#sendForm').submit(function() {
				socket.emit('chat message', ($('#handle').val() + 
					": " + $('#sender').val()));
				$('#sender').val('');
				
				socket.emit('user', $('#handle').val());
				
				return false;
			});
			//adds user to the list of online users
			socket.on('user', function(username){
				$('#Users').append($('<li id="userOn">').text(username));
			});
			//adds message to the message box
			socket.on('chat message', function(msg) {
				$('#messageBox').append($('<li id="messageLi">').text(msg));
			});
		});
		
		</script>
		
		</div>
						
		<div id="onlineUsers">
			<h2>Users Online</h2>
			<ul id="Users">
				<li id="userOn">Test User</li>
			</ul>
		
		
		
		</div>
	</div>
	</body>
	
</html>